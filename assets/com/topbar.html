<html>
<style>
    @import url("/styles.css");
    :host {
        display: block;
    }
</style>
<script type="module">
    import { getAuth, redirectTo, urlFor, modalDialog } from "/lib/apptron.js";

    window.modal = modalDialog($("#modal"));

    const auth = await getAuth();
    auth.validatedSession.then((session) => {
        if (!session.is_valid) return;
        
        $("#header-bar").classList.add("signedin");

        $("#account").addEventListener("click", () => {
            $("#modal html-component").load("/com/account");
            $("#modal").showModal();
        });

        $("#dashboard").addEventListener("click", () => {
            redirectTo(urlFor("/dashboard", {}, session.claims.username));
        });

        $("#logout").addEventListener("click", () => {
            redirectTo(urlFor("/signout"));
        });
    });

    $("#signin").addEventListener("click", () => {
        redirectTo(urlFor("/signin"));
    });

</script>

<div id="header-bar" style="display: none;">
    <svg id="logo" viewBox="0 0 99 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.8828 2C13.3063 2 13.6503 2.3432 13.6504 2.7666V5.18848L12.7393 5.19043C12.4883 5.19108 12.284 5.39556 12.2842 5.64648C12.2847 5.89748 12.4893 6.1017 12.7402 6.10156L13.6504 6.09961V6.73828L12.7422 6.73438C12.4913 6.73336 12.2858 6.93566 12.2842 7.18652C12.2829 7.43768 12.4862 7.64305 12.7373 7.64453L13.6504 7.64844V8.29785L12.7393 8.2998C12.4883 8.30046 12.284 8.50494 12.2842 8.75586C12.2847 9.00691 12.4892 9.21107 12.7402 9.21094L13.6504 9.20898V9.84766L12.7422 9.84277C12.4913 9.84176 12.2857 10.045 12.2842 10.2959C12.2829 10.5471 12.4862 10.7524 12.7373 10.7539L13.6504 10.7578V11.3916L12.7422 11.3867C12.4912 11.3857 12.2856 11.5889 12.2842 11.8398C12.2831 12.0908 12.4863 12.2964 12.7373 12.2979L13.6504 12.3018V14.8828C13.6504 15.3063 13.3063 15.6504 12.8828 15.6504H0.766602C0.730433 15.6504 0.694991 15.6465 0.660156 15.6416L3.95508 12.8623C3.96792 12.8515 3.97926 12.8386 3.99121 12.8271C4.2779 13.0115 4.61831 13.1201 4.98438 13.1201C6.00063 13.1201 6.82491 12.2955 6.8252 11.2793C6.8252 10.2629 6.0008 9.43851 4.98438 9.43848C3.96802 9.43859 3.14355 10.2629 3.14355 11.2793C3.14358 11.3784 3.15382 11.4754 3.16895 11.5703C3.09744 11.5999 3.0281 11.6379 2.96582 11.6904L0 14.1934V11.3975L3.96094 8.05469C4.25358 8.25087 4.60571 8.36519 4.98438 8.36523C6.00076 8.3652 6.82513 7.54079 6.8252 6.52441C6.8252 5.50798 6.0008 4.68363 4.98438 4.68359C3.96803 4.68372 3.14355 5.50804 3.14355 6.52441C3.14356 6.59746 3.14894 6.66941 3.15723 6.74023C3.12207 6.76128 3.08799 6.78522 3.05566 6.8125L0 9.39062V2.7666C0.000136632 2.34328 0.34328 2.00014 0.766602 2H12.8828ZM4.98438 10.5127C5.40787 10.5127 5.75098 10.8558 5.75098 11.2793C5.75069 11.7026 5.4077 12.0459 4.98438 12.0459C4.56112 12.0458 4.21806 11.7025 4.21777 11.2793C4.21777 10.8558 4.56095 10.5128 4.98438 10.5127ZM4.98438 5.75781C5.40787 5.75784 5.75098 6.10091 5.75098 6.52441C5.75091 6.94786 5.40783 7.29098 4.98438 7.29102C4.561 7.29088 4.21784 6.9478 4.21777 6.52441C4.21777 6.10097 4.56096 5.75794 4.98438 5.75781Z" fill="currentColor"/>
        <path d="M21.15 4.10904C21.677 2.85104 21.677 2.90204 23.53 2.91904C24.295 2.91904 24.516 3.53104 24.992 4.80604C28.545 14.326 29.123 14.445 27.661 14.581C25.621 14.751 25.961 14.479 25.264 12.949C25.043 12.473 24.958 12.15 24.397 12.048C23.972 11.963 23.921 12.014 22.748 12.065C21.779 12.099 21.558 12.031 21.184 12.099C20.606 12.218 20.215 13.119 20.028 13.68C19.824 14.292 19.807 14.598 19.382 14.649C19.042 14.7 17.631 14.734 17.41 14.649C17.053 14.513 17.257 14.207 17.784 12.745C18.804 9.95704 19.96 6.84604 21.15 4.10904ZM22.085 10.144C22.527 10.161 22.952 10.144 23.377 10.178C23.479 10.195 23.581 10.161 23.683 10.144C24.057 10.076 24.278 9.71904 24.04 9.12404C23.479 7.64504 23.411 7.39004 23.139 7.16904C22.595 6.74404 22.289 7.45804 22.034 8.08704C21.847 8.54604 21.694 9.00504 21.575 9.46404C21.456 9.87204 21.66 10.144 22.085 10.144ZM29.6953 7.56004C29.7973 3.41204 29.3383 3.03804 30.7493 2.90204C31.1573 2.86804 33.0443 2.78304 34.3363 2.85104C36.7843 2.97004 38.8243 3.51404 39.3003 5.87704C39.4873 6.89704 39.3003 8.27404 38.4843 9.19204C36.5293 11.385 32.8403 9.43004 32.5003 11.079C32.4493 11.3 32.4493 11.521 32.4493 11.742C32.4323 14.955 32.4153 14.7 31.8033 14.734C31.4633 14.751 30.8173 14.802 30.0693 14.683C29.6273 14.632 29.6613 13.935 29.6783 10.756C29.6783 10.739 29.6953 7.90004 29.6953 7.56004ZM32.4153 6.06404C32.3473 8.42704 32.5173 8.27404 34.1493 8.32504C34.7103 8.34204 35.4243 8.29104 35.9173 8.00204C36.4953 7.67904 36.7673 7.03304 36.6823 6.43804C36.4783 4.92504 35.1863 5.02704 34.0303 4.97604C33.9283 4.97604 33.4523 4.99304 33.0613 5.07804C32.6023 5.16304 32.4323 5.58804 32.4153 6.06404ZM40.8349 7.56004C40.9369 3.41204 40.4779 3.03804 41.8889 2.90204C42.2969 2.86804 44.1839 2.78304 45.4759 2.85104C47.9239 2.97004 49.9639 3.51404 50.4399 5.87704C50.6269 6.89704 50.4399 8.27404 49.6239 9.19204C47.6689 11.385 43.9799 9.43004 43.6399 11.079C43.5889 11.3 43.5889 11.521 43.5889 11.742C43.5719 14.955 43.5549 14.7 42.9429 14.734C42.6029 14.751 41.9569 14.802 41.2089 14.683C40.7669 14.632 40.8009 13.935 40.8179 10.756C40.8179 10.739 40.8349 7.90004 40.8349 7.56004ZM43.5549 6.06404C43.4869 8.42704 43.6569 8.27404 45.2889 8.32504C45.8499 8.34204 46.5639 8.29104 47.0569 8.00204C47.6349 7.67904 47.9069 7.03304 47.8219 6.43804C47.6179 4.92504 46.3259 5.02704 45.1699 4.97604C45.0679 4.97604 44.5919 4.99304 44.2009 5.07804C43.7419 5.16304 43.5719 5.58804 43.5549 6.06404ZM53.9806 5.29904C53.7766 5.24804 52.0766 5.23104 51.6176 5.19704C51.3286 5.18004 51.1586 5.11204 51.1076 4.75504C51.0396 4.33004 51.0736 3.19104 51.0736 3.15704C51.1076 2.66404 51.4646 2.76604 53.7596 2.73204C55.7486 2.69804 59.5736 2.71504 60.2876 2.73204C60.5936 2.73204 60.8146 2.76604 60.8486 3.07204C60.8656 3.17404 60.9166 4.53404 60.9166 4.55104C60.8826 5.40104 60.6786 5.12904 58.5706 5.18004C56.9216 5.21404 57.5336 5.57104 57.4316 14.037C57.4146 15.006 57.1086 14.87 56.5816 14.904C55.3746 14.955 54.6946 15.057 54.6946 14.241C54.6946 12.847 54.6776 11.436 54.6946 10.042C54.7286 6.69304 54.9666 5.50304 53.9806 5.29904ZM62.1517 9.65104C62.1517 9.10704 62.1347 5.01004 62.1517 3.54804C62.1517 3.14004 62.3727 2.91904 62.7637 2.83404C63.1037 2.76604 68.2547 2.74904 69.7508 3.08904C72.2497 3.65004 72.6748 6.93104 71.3148 8.32504C70.9578 8.69904 70.9578 9.19204 71.2127 9.54904C72.0117 10.654 71.9267 11.912 71.9947 12.932C72.0797 13.918 72.5218 14.768 71.9438 14.819C71.2977 14.887 70.6517 14.836 69.9888 14.836C68.9687 14.853 69.5637 12.745 68.7307 10.926C68.4077 10.246 67.8297 10.178 67.1327 10.127C64.9397 9.99104 64.8887 10.365 64.8887 12.252C64.8887 14.53 65.0927 14.819 64.3617 14.819C62.4577 14.819 62.3047 14.938 62.1857 14.411C62.1007 14.054 62.1857 14.445 62.1517 9.65104ZM64.9397 6.42104C64.9397 6.52304 64.9227 7.52604 64.9567 7.73004C65.0077 7.95104 65.2287 8.18904 65.4157 8.22304C66.1467 8.35904 67.5067 8.30804 67.9658 8.22304C69.6317 7.90004 69.5637 5.57104 68.2378 5.12904C67.5577 4.90804 66.8777 4.95904 66.3677 4.95904C64.7017 4.92504 64.9737 5.80904 64.9397 6.42104ZM79.5971 15.091C74.2761 15.38 71.8111 8.81804 74.8711 4.87404C78.4581 0.199039 86.0061 3.07204 85.2241 9.61704C84.8161 12.915 82.9971 14.921 79.5971 15.091ZM82.5551 8.68204C82.5041 3.54804 76.1461 3.97304 76.1801 8.78404C76.1801 13.969 82.6061 14.36 82.5551 8.68204ZM87.0055 14.241C86.9205 13.731 86.9715 13.221 86.9545 12.796C86.9545 2.83404 86.7165 2.78304 87.5495 2.64704C87.9745 2.56204 88.9605 2.56204 89.3855 2.78304C90.4905 3.39504 93.0235 8.71604 93.7885 9.02204C94.1285 9.15804 94.3835 8.97104 94.4345 8.63104C94.5025 8.30804 94.5025 5.36704 94.5195 4.99304C94.6215 3.34404 94.3835 2.78304 95.0805 2.66404C95.4885 2.59604 96.4915 2.57904 96.8145 2.69804C97.2395 2.85104 97.1375 3.32704 97.1375 4.09204C97.1715 6.23404 97.1375 12.354 97.1205 12.643C97.0525 13.799 97.2735 14.7 96.4915 14.785C95.7775 14.87 94.8935 14.819 94.6215 14.768C94.1455 14.666 94.0775 14.207 91.1195 9.94004C90.8985 9.63404 90.6775 9.31104 90.4395 9.00504C90.2695 8.80104 89.9805 8.71604 89.7425 8.93704C89.4535 9.17504 89.5725 10.076 89.5215 12.218C89.5045 12.439 89.5215 12.66 89.5045 12.881C89.3515 14.887 89.7085 14.836 87.9915 14.802C87.4305 14.785 87.0735 14.717 87.0055 14.241Z" fill="white"/>
    </svg>

    <div id="nav-links">
        <button id="dashboard">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.889 2.09501C4.59879 1.62081 5.39504 1.29105 6.23227 1.12457C7.06951 0.958094 7.93133 0.95815 8.76855 1.12474C9.60576 1.29133 10.402 1.62119 11.1117 2.09548C11.8214 2.56978 12.4308 3.17922 12.905 3.88901C13.3792 4.59881 13.709 5.39505 13.8754 6.23229C14.0419 7.06952 14.0419 7.93135 13.8753 8.76856C13.7087 9.60578 13.3788 10.402 12.9045 11.1117C12.4302 11.8214 11.8208 12.4308 11.111 12.905C9.67737 13.8626 7.92207 14.2114 6.23124 13.8748C4.54041 13.5382 3.05256 12.5436 2.095 11.11C1.13743 9.67638 0.788595 7.92108 1.12522 6.23026C1.46185 4.53943 2.45637 3.05158 3.89 2.09401L3.889 2.09501ZM4.444 12.073C5.34856 12.6775 6.41207 13.0001 7.5 13C8.9582 12.9984 10.3562 12.4185 11.3873 11.3873C12.4184 10.3562 12.9984 8.95822 13 7.50001C13 6.54984 12.7538 5.61588 12.2854 4.78916C11.8171 3.96243 11.1425 3.27114 10.3276 2.78266C9.51256 2.29418 8.58492 2.02516 7.63504 2.00183C6.68515 1.9785 5.74543 2.20165 4.90744 2.64954C4.06945 3.09743 3.36179 3.75477 2.85342 4.55751C2.34505 5.36024 2.05331 6.28099 2.00664 7.23001C1.95996 8.17904 2.15995 9.12397 2.5871 9.97271C3.01425 10.8215 3.654 11.5451 4.444 12.073ZM10.294 4.00001L11 4.70701L8.85 6.85701C9.00517 7.17917 9.04131 7.54585 8.95202 7.8921C8.86273 8.23835 8.65376 8.54182 8.36214 8.74875C8.07053 8.95568 7.71508 9.05272 7.35876 9.02267C7.00245 8.99262 6.66827 8.83743 6.41543 8.58459C6.16258 8.33174 6.00739 7.99756 5.97734 7.64125C5.94729 7.28493 6.04433 6.92948 6.25126 6.63787C6.45819 6.34625 6.76166 6.13728 7.10791 6.04799C7.45416 5.9587 7.82084 5.99484 8.143 6.15001L10.294 4.00001ZM7.221 7.91601C7.33133 7.98974 7.46643 8.01663 7.59658 7.99075C7.72673 7.96487 7.84127 7.88834 7.915 7.77801C7.98873 7.66768 8.01561 7.53258 7.98973 7.40243C7.96385 7.27228 7.88733 7.15774 7.777 7.08401C7.72237 7.04751 7.66108 7.02212 7.59664 7.00929C7.5322 6.99647 7.46586 6.99647 7.40142 7.00928C7.27127 7.03516 7.15673 7.11168 7.083 7.22201C7.00927 7.33234 6.98239 7.46744 7.00827 7.59759C7.03415 7.72774 7.11067 7.84228 7.221 7.91601ZM11.507 5.46701L10.744 6.23001C10.91 6.63301 10.997 7.06401 10.999 7.50001C10.9962 8.12668 10.8234 8.74083 10.499 9.27701L11.234 10.012C11.682 9.34819 11.9437 8.57635 11.9919 7.77695C12.0401 6.97754 11.873 6.17985 11.508 5.46701H11.507ZM8.733 4.24201C8.34078 4.08483 7.92253 4.00274 7.5 4.00001C6.57174 4.00001 5.6815 4.36876 5.02512 5.02514C4.36875 5.68152 4 6.57176 4 7.50001C4.00266 8.1267 4.17548 8.74089 4.5 9.27701L3.766 10.012C3.21365 9.18824 2.94892 8.20507 3.01296 7.21533C3.07701 6.22559 3.46624 5.28473 4.12015 4.53902C4.77406 3.7933 5.65602 3.28451 6.62891 3.09174C7.60181 2.89896 8.61114 3.033 9.5 3.47301L8.733 4.24201Z" fill="currentColor"/>
            </svg>
            Dashboard
        </button>
        <button id="signin">Sign in</button>
        
        <apptron-dropdown align="right">
            <!-- 1) Trigger: the clickable button -->
            <button id="username" type="button" class="user-btn" aria-haspopup="menu" aria-controls="user-popover">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_512_3234)">
                    <path d="M16 7.992C16 3.58 12.416 0 8 0C3.584 0 0 3.58 0 7.992C0 10.422 1.104 12.612 2.832 14.082C2.848 14.098 2.864 14.098 2.864 14.114C3.008 14.226 3.152 14.338 3.312 14.45C3.392 14.498 3.456 14.561 3.536 14.625C4.85807 15.5214 6.41871 16.0004 8.016 16C9.61329 16.0004 11.1739 15.5214 12.496 14.625C12.576 14.577 12.64 14.514 12.72 14.465C12.864 14.354 13.024 14.242 13.168 14.13C13.184 14.114 13.2 14.114 13.2 14.098C14.896 12.611 16 10.422 16 7.992ZM8 14.993C6.496 14.993 5.12 14.513 3.984 13.714C4 13.586 4.032 13.459 4.064 13.331C4.15934 12.9841 4.29917 12.651 4.48 12.34C4.656 12.036 4.864 11.764 5.12 11.524C5.36 11.284 5.648 11.061 5.936 10.885C6.24 10.709 6.56 10.581 6.912 10.485C7.26674 10.3894 7.6326 10.3413 8 10.342C9.09065 10.3343 10.1412 10.7526 10.928 11.508C11.296 11.876 11.584 12.308 11.792 12.803C11.904 13.091 11.984 13.395 12.032 13.714C10.8512 14.5442 9.44343 14.9907 8 14.993ZM5.552 7.593C5.41102 7.27022 5.34013 6.9212 5.344 6.569C5.344 6.218 5.408 5.866 5.552 5.546C5.696 5.226 5.888 4.939 6.128 4.699C6.368 4.459 6.656 4.268 6.976 4.124C7.296 3.98 7.648 3.916 8 3.916C8.368 3.916 8.704 3.98 9.024 4.124C9.344 4.268 9.632 4.46 9.872 4.699C10.112 4.939 10.304 5.227 10.448 5.546C10.592 5.866 10.656 6.218 10.656 6.569C10.656 6.937 10.592 7.273 10.448 7.592C10.309 7.90727 10.1138 8.19461 9.872 8.44C9.62653 8.68149 9.33919 8.87633 9.024 9.015C8.36283 9.28671 7.62117 9.28671 6.96 9.015C6.64481 8.87633 6.35747 8.68149 6.112 8.44C5.86981 8.19819 5.67929 7.91068 5.552 7.593ZM12.976 12.899C12.976 12.867 12.96 12.851 12.96 12.819C12.8026 12.3184 12.5707 11.8444 12.272 11.413C11.973 10.9784 11.6056 10.5951 11.184 10.278C10.862 10.0358 10.513 9.83175 10.144 9.67C10.3119 9.55925 10.4674 9.43085 10.608 9.287C10.8465 9.0515 11.056 8.7883 11.232 8.503C11.5864 7.92081 11.7694 7.25049 11.76 6.569C11.7649 6.06451 11.667 5.56432 11.472 5.099C11.2795 4.65064 11.0025 4.24356 10.656 3.9C10.31 3.56003 9.90288 3.28859 9.456 3.1C8.98991 2.90539 8.48906 2.80774 7.984 2.813C7.47887 2.80806 6.97802 2.90605 6.512 3.101C6.06125 3.28919 5.65311 3.56638 5.312 3.916C4.97204 4.26159 4.70059 4.66842 4.512 5.115C4.31705 5.58032 4.21905 6.08051 4.224 6.585C4.224 6.937 4.272 7.273 4.368 7.592C4.464 7.928 4.592 8.232 4.768 8.519C4.928 8.807 5.152 9.063 5.392 9.303C5.536 9.447 5.696 9.574 5.872 9.686C5.50184 9.85206 5.15272 10.0615 4.832 10.31C4.416 10.63 4.048 11.013 3.744 11.429C3.44226 11.8586 3.21008 12.3331 3.056 12.835C3.04 12.867 3.04 12.899 3.04 12.915C1.776 11.636 0.992 9.91 0.992 7.992C0.992 4.14 4.144 0.991 8 0.991C11.856 0.991 15.008 4.14 15.008 7.992C15.0059 9.83196 14.2753 11.5962 12.976 12.899Z" fill="#C5C5C5"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_512_3234">
                    <rect width="16" height="16" fill="currentColor"/>
                    </clipPath>
                    </defs>
                </svg>
                <span class="label">Username</span>
            </button>

            <!-- 2) Popover: immediate sibling with [popover] -->
            <div id="user-popover" class="card-menu" popover role="menu" aria-label="User menu">
                <button id="account" class="menu-item" role="menuitem" data-action="account">Account</button>
                <button id="logout" class="menu-item" role="menuitem" data-action="logout">Log out</button>
            </div>
        </apptron-dropdown>


        <a href="https://github.com/tractordev/apptron" target="_blank">
            <svg viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"/></svg>
        </a>
    </div>
</div>


<dialog id="modal">
<html-component></html-component>
</dialog>

</html>