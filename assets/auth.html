<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Apptron</title>
</head>
<body>
  <h1>Apptron</h1>
  <nav>
    <a href="#" id="logout-link">Logout</a>
  </nav>
  <hanko-auth></hanko-auth>
  <hr />
  <hanko-profile></hanko-profile>
  <script type="module">
    import { register } from "https://esm.run/@teamhanko/hanko-elements";

    const { hanko } = await register("https://ad6044b5-53c2-4cb5-8542-9fdaef75f771.hanko.io");
    window.hanko = hanko;
    hanko.onSessionCreated(() => {
      console.log("Session created");
    });

    document.getElementById("logout-link")
      .addEventListener("click", (event) => {
          event.preventDefault();
          hanko.user.logout();
      });

    hanko.onUserLoggedOut(() => {
        console.log("User logged out");
    })

    const session = await hanko.validateSession();
    console.log("Session valid:", session.is_valid, "Claims:", session.claims);

    const token = hanko.getSessionToken();
    console.log("Session token:", token);

    const user = await hanko.getUser();
    console.log("User profile:", user);
  </script>
</body>
</html>